import random
import gradio as gr

# ======= Ultra Realistic 8K Photography Options =======
celebs_options = [
    "Ariana Grande", "Nicki Minaj", "Dua Lipa", "Megan Fox", "Salma Hayek",
    "Pen√©lope Cruz", "Scarlett Johansson", "Margot Robbie", "Shakira", "Karol G",
    "Becky G", "Camila Cabello", "Katy Perry", "Jennifer Lopez", "Sof√≠a Vergara",
    "Emma Watson", "Gal Gadot", "Zendaya", "Taylor Swift", "Beyonc√©"
]

def get_random_fashion_elements():
    return {
        "models": [
            {
                "name": "Fashion Model", 
                "hair": "perfectly styled hair with natural movement",
                "eyes": "crystal clear eyes with detailed iris patterns",
                "body": "balanced proportions with natural posture",
                "skin": "flawless skin with realistic pores and subtle texture",
                "face": "symmetrical facial features with natural makeup"
            },
            {
                "name": "Runway Model", 
                "hair": "editorial hairstyle with volume and shine",
                "eyes": "expressive eyes with perfect catchlights",
                "body": "elegant stance with perfect posture",
                "skin": "natural skin texture with soft highlights",
                "face": "high-fashion bone structure"
            }
        ],

        "outfits": [
            {
                "type": "designer evening gown",
                "description": "flowing fabric with intricate draping",
                "details": "couture stitching visible, luxury fabric texture",
                "brand": random.choice(["Dior", "Chanel", "Versace", "Valentino", "Armani"])
            },
            {
                "type": "tailored pantsuit",
                "description": "sharp lines with perfect fit",
                "details": "visible stitching details, premium fabric drape",
                "brand": random.choice(["Gucci", "Saint Laurent", "Balmain", "Tom Ford", "Prada"])
            },
            {
                "type": "red carpet dress",
                "description": "show-stopping designer piece",
                "details": "intricate beadwork visible, fabric movement captured",
                "brand": random.choice(["Elie Saab", "Zuhair Murad", "Oscar de la Renta", "Carolina Herrera", "Givenchy"])
            }
        ],

        "poses": [
            {
                "name": "Runway Walk",
                "description": "mid-stride pose with perfect form",
                "details": [
                    "natural body movement captured",
                    "perfect balance and posture",
                    "fabric flowing naturally",
                    "confident facial expression",
                    "arms positioned elegantly"
                ]
            },
            {
                "name": "Editorial Pose",
                "description": "high-fashion stance",
                "details": [
                    "dynamic body angles",
                    "expressive hand positioning",
                    "strong eye contact with camera",
                    "perfect body tension",
                    "natural weight distribution"
                ]
            },
            {
                "name": "Red Carpet Pose",
                "description": "classic celebrity stance",
                "details": [
                    "one hand on hip",
                    "slight weight shift to back leg",
                    "perfect smile expression",
                    "body angled 45 degrees to camera",
                    "outfit displayed perfectly"
                ]
            }
        ],

        "lighting": [
            {
                "type": "studio lighting",
                "setup": "professional 5-point lighting",
                "details": [
                    "main key light with softbox",
                    "fill light for perfect shadow control",
                    "hair light for separation",
                    "rim light for definition",
                    "background light for depth"
                ]
            },
            {
                "type": "natural lighting",
                "setup": "golden hour sunlight",
                "details": [
                    "soft directional sunlight",
                    "natural fill from environment",
                    "perfect shadow gradient",
                    "warm color temperature",
                    "atmospheric depth"
                ]
            },
            {
                "type": "cinematic lighting",
                "setup": "dramatic movie lighting",
                "details": [
                    "high contrast ratios",
                    "precise light shaping",
                    "moody shadows",
                    "specular highlights",
                    "depth-creating backlight"
                ]
            }
        ],

        "locations": [
            {
                "setting": "fashion studio",
                "details": [
                    "seamless white background",
                    "professional equipment visible",
                    "clean minimalist space",
                    "perfect lighting conditions",
                    "high-end camera setup"
                ]
            },
            {
                "setting": "urban rooftop",
                "details": [
                    "city skyline backdrop",
                    "modern architecture",
                    "golden hour lighting",
                    "clean lines and surfaces",
                    "depth from environment"
                ]
            },
            {
                "setting": "luxury penthouse",
                "details": [
                    "designer furniture",
                    "floor-to-ceiling windows",
                    "high-end decor",
                    "natural light flooding in",
                    "spacious clean environment"
                ]
            }
        ]
    }

technical_specs = (
    "8K ultra HD resolution, 100 megapixels, hyper-detailed photography, "
    "Phase One XT camera with 150MP IQ4 digital back, "
    "Schneider Kreuznach lenses, f/8 aperture for perfect sharpness, "
    "studio lighting setup with Profoto Pro-11 packs, "
    "captured in RAW format with 16-bit color depth, "
    "perfect skin texture with visible pores but no imperfections, "
    "fabric textures rendered with micro-detail, "
    "natural color grading with perfect white balance, "
    "sharp focus on subject with smooth bokeh, "
    "professional retouching while maintaining natural look, "
    "commercial fashion photography quality"
)

def generate_photography_prompt():
    elements = get_random_fashion_elements()
    celebrity = random.choice(celebs_options)
    model = random.choice(elements["models"])
    outfit = random.choice(elements["outfits"])
    pose = random.choice(elements["poses"])
    lighting = random.choice(elements["lighting"])
    location = random.choice(elements["locations"])
    
    prompt = (
        f"Ultra-realistic 8K full-body fashion photograph of {celebrity}, "
        f"a {model['name']} with {model['hair']}, {model['eyes']}, {model['skin']}, and {model['face']}. "
        f"Wearing a {outfit['brand']} {outfit['type']}: {outfit['description']} showing {outfit['details']}. "
        f"{pose['description'].capitalize()} with {', '.join(pose['details'])}. "
        f"Lighting: {lighting['type']} setup with {', '.join(lighting['details'])}. "
        f"Location: {location['setting']} featuring {', '.join(location['details'])}. "
        f"{technical_specs}"
    )
    
    return prompt, celebrity

with gr.Blocks(title="Fashion Photography Prompt Generator") as demo:
    gr.Markdown("""# üì∏ Ultra Realistic 8K Fashion Photography Prompt Generator
    *Generate prompts for hyper-realistic celebrity fashion photography*""")
    
    with gr.Row():
        with gr.Column():
            generate_btn = gr.Button("‚ú® Generate Photography Prompt", variant="primary")
            
        with gr.Column():
            celebrity_display = gr.Textbox(label="Selected Celebrity")
            prompt_output = gr.Textbox(label="Photography Prompt", lines=8)
    
    generate_btn.click(
        fn=generate_photography_prompt,
        outputs=[prompt_output, celebrity_display]
    )

demo.launch()